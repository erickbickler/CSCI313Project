<div class="container">
  <div class="row">
    <div class="col"></div>
    <div class="col-6">
      <div class="carousel-item active">
        <img src="/assets/images/Restaraunt_Exterior.png" alt="" style="margin-top: 20px;" width=100%>
        <h1 class="carousel-caption">Our Locations</h1>
      </div>
    </div>
    <div class="col"></div>
  </div>
  <div class="row">
      <div class="col">
      </div>

      <div class="col-6">
        <div *ngIf="loggedIn">
          <div class="holder">
            <h1>Admin - Add Location</h1>
            <div class="card">
              <div class="card-body">
                <div class="form-group">
                  <input class="form-control" type="text" [(ngModel)]="new_city" placeholder="City">
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" [(ngModel)]="new_state" placeholder="State">
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" [(ngModel)]="new_address" placeholder="Address">
                </div>
                <div class="form-group">
                  <input class="form-control" type="text" [(ngModel)]="new_phone_number" placeholder="Phone Number">
                </div>
                <div class="form-group">
                  <button class="btn btn-primary" (click)="addLocation()">Add Location</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        
        <div class="card mx-auto" *ngFor="let location of locationList">
          <div *ngIf="locationToEdit != location">
            <div class="card-header" style="color: white">
              <h4>{{location.city}}, {{location.state}}</h4>
            </div>
            <div class="card-body">
                <ul>Address: {{location.address}}</ul>
                <ul>Phone Number: {{location.phone_number}}</ul>
                <ul>
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-map" viewBox="0 0 16 16" style="margin-right: 5px">
                    <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.502.502 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103zM10 1.91l-4-.8v12.98l4 .8V1.91zm1 12.98 4-.8V1.11l-4 .8v12.98zm-6-.8V1.11l-4 .8v12.98l4-.8z"/>
                  </svg>
                  <a href="{{location.map_url}}">Directions</a>
                </ul>
              <div *ngIf="loggedIn">
                <ul *ngIf='locationToEdit != location'>
                  <button class="btn btn-primary" (click)="editLocation(location)">Edit Location</button>
                  <button class="btn btn-primary" (click)="deleteLocation(location)">Delete Location</button>
                </ul>
              </div>
            </div>
          </div>

          <div *ngIf="locationToEdit == location">
            <div class="card-header">
              <h4>
                <label for="city">City:</label>
                <input name="city" class="form-control" type="text" [(ngModel)]="locationToEdit.city">
                <label for="state">State:</label>
                <input name="state" class="form-control" type="text" [(ngModel)]="locationToEdit.state">
              </h4>
            </div>
            <div class="card-body">
              <ul>
                <label for="address">Address:</label>
                <input name="address" class="form-control" type="text" [(ngModel)]="locationToEdit.address">
              </ul>
              <ul>
                <label for="phone_number">Phone Number:</label>
                <input name="phone_number" class="form-control" type="text" [(ngModel)]="locationToEdit.phone_number">
              </ul>
              <ul *ngIf="locationToEdit == location">
                <button class="btn btn-primary" (click)="saveLocation(location)">Save</button>
                <button class="btn btn-primary" (click)="cancel()">Cancel</button>
              </ul>
            </div>
          </div>
        </div>
      </div>
        
      <div class="col">
      </div>
  </div>
</div>
